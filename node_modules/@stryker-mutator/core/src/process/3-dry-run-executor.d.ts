import { Injector } from 'typed-inject';
import { I } from '@stryker-mutator/util';
import { Logger } from '@stryker-mutator/api/logging';
import { StrykerOptions, Mutant } from '@stryker-mutator/api/core';
import { Checker } from '@stryker-mutator/api/check';
import { coreTokens } from '../di';
import { Sandbox } from '../sandbox/sandbox';
import Timer from '../utils/timer';
import { Pool } from '../concurrent/pool';
import { ConcurrencyTokenProvider } from '../concurrent';
import { MutationTestContext } from './4-mutation-test-executor';
import { MutantInstrumenterContext } from './2-mutant-instrumenter-executor';
export interface DryRunContext extends MutantInstrumenterContext {
    [coreTokens.sandbox]: Sandbox;
    [coreTokens.mutants]: readonly Mutant[];
    [coreTokens.checkerPool]: I<Pool<Checker>>;
    [coreTokens.concurrencyTokenProvider]: I<ConcurrencyTokenProvider>;
}
export declare class DryRunExecutor {
    private readonly injector;
    private readonly log;
    private readonly options;
    private readonly timer;
    private readonly concurrencyTokenProvider;
    static readonly inject: ["$injector", "logger", "options", "timer", "concurrencyTokenProvider"];
    constructor(injector: Injector<DryRunContext>, log: Logger, options: StrykerOptions, timer: I<Timer>, concurrencyTokenProvider: I<ConcurrencyTokenProvider>);
    execute(): Promise<Injector<MutationTestContext>>;
    private validateResultCompleted;
    private timeDryRun;
    private logInitialTestRunSucceeded;
    /**
     * Calculates the timing variables for the test run.
     * grossTime = NetTime + overheadTime
     *
     * The overhead time is used to calculate exact timeout values during mutation testing.
     * See timeoutMS setting in README for more information on this calculation
     */
    private calculateTiming;
    private logFailedTestsInInitialRun;
    private logErrorsInInitialRun;
    private logTimeoutInitialRun;
}
//# sourceMappingURL=3-dry-run-executor.d.ts.map