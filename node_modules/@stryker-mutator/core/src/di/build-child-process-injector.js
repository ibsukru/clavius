"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildChildProcessInjector = void 0;
const plugin_1 = require("@stryker-mutator/api/plugin");
const typed_inject_1 = require("typed-inject");
const factory_methods_1 = require("./factory-methods");
const _1 = require(".");
function buildChildProcessInjector(options) {
    return _1.provideLogger(typed_inject_1.createInjector())
        .provideValue(plugin_1.commonTokens.options, options)
        .provideFactory(_1.coreTokens.pluginDescriptors, pluginDescriptorsFactory)
        .provideFactory(plugin_1.commonTokens.pluginResolver, factory_methods_1.pluginResolverFactory);
}
exports.buildChildProcessInjector = buildChildProcessInjector;
function pluginDescriptorsFactory(options) {
    return options.plugins;
}
pluginDescriptorsFactory.inject = plugin_1.tokens(plugin_1.commonTokens.options);
//# sourceMappingURL=build-child-process-injector.js.map