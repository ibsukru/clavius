"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.initializerTokens = exports.initializerFactory = void 0;
const typed_inject_1 = require("typed-inject");
const typed_rest_client_1 = require("typed-rest-client");
const di_1 = require("../di");
const initializerTokens = require("./initializer-tokens");
exports.initializerTokens = initializerTokens;
const npm_client_1 = require("./npm-client");
const stryker_config_writer_1 = require("./stryker-config-writer");
const stryker_initializer_1 = require("./stryker-initializer");
const stryker_inquirer_1 = require("./stryker-inquirer");
const stryker_presets_1 = require("./stryker-presets");
const gitignore_writer_1 = require("./gitignore-writer");
const BASE_NPM_SEARCH = 'https://api.npms.io';
const BASE_NPM_PACKAGE = 'https://www.unpkg.com';
function initializerFactory() {
    return di_1.provideLogger(typed_inject_1.createInjector())
        .provideValue(initializerTokens.out, console.log)
        .provideValue(initializerTokens.strykerPresets, stryker_presets_1.default)
        .provideValue(initializerTokens.restClientNpmSearch, new typed_rest_client_1.RestClient('npmSearch', BASE_NPM_SEARCH))
        .provideValue(initializerTokens.restClientNpm, new typed_rest_client_1.RestClient('npm', BASE_NPM_PACKAGE))
        .provideClass(initializerTokens.npmClient, npm_client_1.default)
        .provideClass(initializerTokens.configWriter, stryker_config_writer_1.default)
        .provideClass(initializerTokens.gitignoreWriter, gitignore_writer_1.default)
        .provideClass(initializerTokens.inquirer, stryker_inquirer_1.StrykerInquirer)
        .injectClass(stryker_initializer_1.default);
}
exports.initializerFactory = initializerFactory;
//# sourceMappingURL=index.js.map