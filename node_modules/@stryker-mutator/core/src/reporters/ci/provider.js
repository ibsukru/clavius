"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.determineCIProvider = void 0;
const object_utils_1 = require("../../utils/object-utils");
const circle_provider_1 = require("./circle-provider");
const travis_provider_1 = require("./travis-provider");
const github_actions_provider_1 = require("./github-actions-provider");
/**
 * Return an appropriate instance of CiProvider.
 * @returns An instance of CiProvider, or `null` if it appears Stryker is not running in a CI/CD environment.
 */
function determineCIProvider() {
    // By far the coolest env. variable from all those listed at
    // https://docs.travis-ci.com/user/environment-variables/#Default-Environment-Variables
    if (object_utils_1.getEnvironmentVariable('HAS_JOSH_K_SEAL_OF_APPROVAL')) {
        return new travis_provider_1.default();
    }
    else if (object_utils_1.getEnvironmentVariable('CIRCLECI')) {
        return new circle_provider_1.default();
    }
    else if (object_utils_1.getEnvironmentVariable('GITHUB_ACTION')) {
        return new github_actions_provider_1.default();
    }
    // TODO: Add vsts and gitlab CI
    return null;
}
exports.determineCIProvider = determineCIProvider;
//# sourceMappingURL=provider.js.map