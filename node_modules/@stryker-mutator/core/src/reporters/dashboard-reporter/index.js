"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.dashboardReporterFactory = void 0;
const plugin_1 = require("@stryker-mutator/api/plugin");
const HttpClient_1 = require("typed-rest-client/HttpClient");
const provider_1 = require("../ci/provider");
const dashboard_reporter_1 = require("./dashboard-reporter");
const dashboard_reporter_client_1 = require("./dashboard-reporter-client");
const tokens_1 = require("./tokens");
function dashboardReporterFactory(injector) {
    return injector
        .provideValue(tokens_1.dashboardReporterTokens.httpClient, new HttpClient_1.HttpClient('stryker-dashboard-reporter'))
        .provideClass(tokens_1.dashboardReporterTokens.dashboardReporterClient, dashboard_reporter_client_1.default)
        .provideFactory(tokens_1.dashboardReporterTokens.ciProvider, provider_1.determineCIProvider)
        .injectClass(dashboard_reporter_1.default);
}
exports.dashboardReporterFactory = dashboardReporterFactory;
dashboardReporterFactory.inject = plugin_1.tokens(plugin_1.commonTokens.injector);
//# sourceMappingURL=index.js.map