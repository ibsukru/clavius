"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ArrayDeclarationMutator = void 0;
const core_1 = require("@babel/core");
class ArrayDeclarationMutator {
    constructor() {
        this.name = 'ArrayDeclaration';
    }
    mutate(path) {
        if (path.isArrayExpression()) {
            const replacement = path.node.elements.length ? core_1.types.arrayExpression() : core_1.types.arrayExpression([core_1.types.stringLiteral('Stryker was here')]);
            return [{ original: path.node, replacement }];
        }
        if ((path.isCallExpression() || path.isNewExpression()) && core_1.types.isIdentifier(path.node.callee) && path.node.callee.name === 'Array') {
            const mutatedCallArgs = path.node.arguments.length ? [] : [core_1.types.arrayExpression()];
            const replacement = core_1.types.isNewExpression(path)
                ? core_1.types.newExpression(path.node.callee, mutatedCallArgs)
                : core_1.types.callExpression(path.node.callee, mutatedCallArgs);
            return [{ original: path.node, replacement }];
        }
        return [];
    }
}
exports.ArrayDeclarationMutator = ArrayDeclarationMutator;
//# sourceMappingURL=array-declaration-mutator.js.map